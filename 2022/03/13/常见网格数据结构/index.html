<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>常见网格数据结构 | HDY blog</title><meta name="keywords" content="data structure,computer vision,computer graphics"><meta name="author" content="HDY"><meta name="copyright" content="HDY"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="学习《Polygon Mesh Processing》的第二章——Mesh Data Structure后，对其内容做一个学习总结。 大多数算法经常使用的操作的最小集： ① 访问每个顶点、边和面，包括以无序枚举这些元素； ② 按一定的方向遍历访问一个面的所有边，比如在一个面中查询前（后）一条边， 比如，通过对点的这些访问，可以渲染出相关的整个面； ③ 访问边的关联面，对于流形网格，根据方向的不同，">
<meta property="og:type" content="article">
<meta property="og:title" content="常见网格数据结构">
<meta property="og:url" content="http://hudongyue.com/2022/03/13/%E5%B8%B8%E8%A7%81%E7%BD%91%E6%A0%BC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/index.html">
<meta property="og:site_name" content="HDY blog">
<meta property="og:description" content="学习《Polygon Mesh Processing》的第二章——Mesh Data Structure后，对其内容做一个学习总结。 大多数算法经常使用的操作的最小集： ① 访问每个顶点、边和面，包括以无序枚举这些元素； ② 按一定的方向遍历访问一个面的所有边，比如在一个面中查询前（后）一条边， 比如，通过对点的这些访问，可以渲染出相关的整个面； ③ 访问边的关联面，对于流形网格，根据方向的不同，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://hudongyue.com/assets/img/mesh_data_structure/cover.jpg">
<meta property="article:published_time" content="2022-03-13T14:26:11.000Z">
<meta property="article:modified_time" content="2022-03-15T12:04:16.000Z">
<meta property="article:author" content="HDY">
<meta property="article:tag" content="data structure">
<meta property="article:tag" content="computer vision">
<meta property="article:tag" content="computer graphics">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://hudongyue.com/assets/img/mesh_data_structure/cover.jpg"><link rel="shortcut icon" href="/img/signature.png"><link rel="canonical" href="http://hudongyue.com/2022/03/13/%E5%B8%B8%E8%A7%81%E7%BD%91%E6%A0%BC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '常见网格数据结构',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-15 20:04:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.1"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/portrait.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/assets/img/mesh_data_structure/cover.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">HDY blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">常见网格数据结构</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-13T14:26:11.000Z" title="发表于 2022-03-13 22:26:11">2022-03-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-15T12:04:16.000Z" title="更新于 2022-03-15 20:04:16">2022-03-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="常见网格数据结构"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>学习《Polygon Mesh Processing》的第二章——Mesh Data Structure后，对其内容做一个学习总结。</p>
<p><strong>大多数算法经常使用的操作的最小集：</strong></p>
<p>① 访问每个顶点、边和面，包括以无序枚举这些元素；</p>
<p>② 按一定的方向遍历访问一个面的所有边，比如在一个面中查询前（后）一条边，</p>
<p>比如，通过对点的这些访问，可以渲染出相关的整个面；</p>
<p>③ 访问边的关联面，对于流形网格，根据方向的不同，可以访问左面或者右面。这</p>
<p>样就可以访问到邻面了；</p>
<p>④ 访问一条边的两个端点；</p>
<p>⑤ 至少可以访问一个给定顶点的一个关联面或者一个关联边。此外，对于流形网</p>
<p>格，可以枚举出一个顶点的单环领域内的所有其它元素。（即所有的关联面、关联边和临近的顶点）</p>
<h2 id="1-基于面的数据结构（Face-Based-Data-Structure）"><a href="#1-基于面的数据结构（Face-Based-Data-Structure）" class="headerlink" title="1. 基于面的数据结构（Face-Based Data Structure）"></a>1. 基于面的数据结构（Face-Based Data Structure）</h2><h4 id="·-Face-Set"><a href="#·-Face-Set" class="headerlink" title="· Face Set"></a>· Face Set</h4><p>这是一种最简单直观的用于表示曲面的数据结构，将一个曲面用许多足够小的三角形来近似表达，那么需要存储的，就是每个三角形的三个顶点的坐标。如果每个点的一个方向的坐标，使用32位单精度的数字来表示，则每个点使用12bytes来表示x、y、z轴方向坐标，而每个三角形需要存储3个顶点，即需要占据36bytes的存储空间。此外，根据Euler公式（曲面中面的数目约等于点的数目的两倍），那么平均算下来，这种数据结构消耗72bytes/顶点。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="\assets\img\mesh_data_structure\1.png" alt="img1"></p>
<p>这种表示方式的特点：</p>
<p>① 简单直观；</p>
<p>② 无法显式获取连通信息；</p>
<p>③ 冗余；（对于不同面的公共点、公共面，需要重复地表示多次）</p>
<p>④ 常用于stereolithography（STL）文件中。</p>
<h4 id="·-Shared-Vertex（Indexed-Face-Set）"><a href="#·-Shared-Vertex（Indexed-Face-Set）" class="headerlink" title="· Shared Vertex（Indexed Face Set）"></a>· Shared Vertex（Indexed Face Set）</h4><p>争对Face Set方式的冗余做出改进后，则得到了Shared Vertex数据结构。在这种数据结构中，依旧要对每个三角形进行存储，但不同之处在于，此方法使用一个表存储曲面涉及的所有顶点的坐标，故可以不直接存储三角形的每个顶点，而是存储点在表中对应的索引。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="\assets\img\mesh_data_structure\2.png" alt="img2"></p>
<p>这种表示方式的特点：</p>
<p>① 消除了Face Set的冗余，更加节省存储空间；</p>
<p>② 能表示出连通信息，但如果没有额外的连通信息，这种数据结构需要付出高昂的搜索代价来恢复一个顶点的局部近邻信息，故对于大多数算法来说，这种数据结构是不够高效的；（比如查询两顶点是否相连的时间复杂度为O(F)）；</p>
<p>③ 在许多格式的文件中都有使用，比如OFF、OBJ和VRML。</p>
<hr>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="\assets\img\mesh_data_structure\3.png" alt="img3"></p>
<p>一种标准的基于面的三角网格数据结构中（如上图），每个面存储三个顶点以及和它相关的三个相邻三角形的引用。每个顶点除了自己的坐标外，还存储和它相邻的一个三角形的引用。基于这些连通信息，就可以通过绕着一个顶点循环枚举出它的单环领域，并实现上面提及的所有的频繁操作。其平均存储空间占用为 24bytes/面 + 16bytes/顶点 = 64bytes/顶点。</p>
<h2 id="2-基于边的数据结构（Edge-Based-Data-Structure）"><a href="#2-基于边的数据结构（Edge-Based-Data-Structure）" class="headerlink" title="2. 基于边的数据结构（Edge-Based Data Structure）"></a>2. 基于边的数据结构（Edge-Based Data Structure）</h2><p>最著名的基于边的数据结构主要有翼边winged-edge[Baumgart 72]和四方边quad-edge[Guibas and Stolfi 85]。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="\assets\img\mesh_data_structure\4.png" alt="img4"></p>
<p>翼边数据结构如上图所示，每条边分别存储其两个端点、两个关联面以及左右关联面内的下一条和上一条边的引用。每个顶点和面存储各自关联的一条边。所以，算下来，这种数据结构总共占用的内存为16bytes/顶点 + 32bytes/边 + 4bytes/面 = 120bytes/顶点。（由Euler公式得 F ≈ 2V，E ≈ 3V）</p>
<p>虽然基于边的数据结构已经可以表示任意多边形网格，但是由于边不具有方向，在进行单环遍历时，需要做区分。（无法区分作为中心顶点的是边的第一个顶点还是第二个顶点）</p>
<h2 id="3-基于半边的数据结构（Halfedge-Based-Data-Structure）"><a href="#3-基于半边的数据结构（Halfedge-Based-Data-Structure）" class="headerlink" title="3. 基于半边的数据结构（Halfedge-Based Data Structure）"></a>3. 基于半边的数据结构（Halfedge-Based Data Structure）</h2><p>基于半边的数据结构[Mantyla 88，Kettner 99]，该结构通过将每个无方向的边分割成两个有方向的半边，从而避免了基于边的数据结构的单环遍历区分问题。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="\assets\img\mesh_data_structure\5.png" alt="img5"></p>
<p>基于半边的数据结构如上图所示，半边沿每个面和每个边界以一致的逆时针顺序排列。因此，每个边界都可以看作一个空白面。此外，每个半边指定了一个唯一角（一个面中独占的顶点），所以如纹理坐标或者法线等信息可以存储在每个唯一角中。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="\assets\img\mesh_data_structure\6.png" alt="img6"></p>
<p><strong>对于每个半边，需要存储的对象的引用：</strong></p>
<p>① 半边指向的顶点；</p>
<p>② 半边相邻面（如果是边界半边，则是一个nullptr）；</p>
<p>③ 半边所在面或边界的下一条半边（逆时针方向）； </p>
<p>④ 半边所在面或边界的上一条半边；</p>
<p>⑤ 半边对应的逆半边。</p>
<p>注意，如果两个对边总是成对地分组并存储在数组位置halfedges[i]和halfedges[i+1]中,则不需要存储逆半边。（在一个面中成对地存储了面中的一个半边和其对应的逆半边，那么在该逆半边所在的面中，就不再需要存储该逆半边了）此外,将两条半边组成一对，我们就得到了一个完整边的表示，这在当我们想要将数据与边关联，而不是与半边关联时是很重要。并且在一个面中的上一条半边的引用也可以省略，因为这可以通过步进下一个半边引用得到（即查找下一条半边的下一条半边）</p>
<p><strong>对于每个面：</strong>存储它的一个半边的引用；</p>
<p><strong>对于每个顶点：</strong>存储其外射的半边的引用；</p>
<p>由Euler公式可知，顶点的数目大约是边数目的3倍，那么顶点的数目大约是半边的数目的6倍，所以基于半边的数据结构的存储消耗大约为 16bytes/顶点 + 20bytes/半边 + 4bytes/面 = 144bytes/顶点。</p>
<p>半边数据结构使我们能够高效地枚举每个元素（即顶点,边,半边或面）的所有相邻元素。比如下图展示了列举给定顶点的单环领域。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="\assets\img\mesh_data_structure\7.png" alt="img7"></p>
<p>从中心顶点出发，可以通过从中心顶点的外射半边开始（左），然后找到对应逆半边（中）和逆半边的下一条半边（右），并以此循环，不断按顺时针列举。</p>
<h2 id="4-有向边的数据结构（Directed-Edge-Data-Structure）"><a href="#4-有向边的数据结构（Directed-Edge-Data-Structure）" class="headerlink" title="4. 有向边的数据结构（Directed-Edge Data Structure）"></a>4. 有向边的数据结构（Directed-Edge Data Structure）</h2><p>有向边数据结构[Campagna et al.98]是专门为三角形网格设计的一种半边数据结构的节省内存的变体。它基于引用网格中的每个元素（顶点，面以及半边）的索引。索引之间遵循着某些规则，这些规则隐秘地编码着三角形网格的一些连通信息。不像前面提及的将对半边组成对，这里则是将一个公共三角形的三个半边组合在一起。</p>
<p>如果<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex" xmlns="http://www.w3.org/2000/svg" width="1.244ex" height="2.059ex" role="img" focusable="false" viewBox="0 -705 550 910"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path></g></g></g></svg></mjx-container>是面的索引，那么面的三个半边的索引则为：</p>
<script type="math/tex; mode=display">
halfedge(f,j) = 3f + i, \ i=0,1,2</script><p>如果<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 576 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg></mjx-container>表示一条半边的索引，那么其相邻面的索引和它在该面内的索引可以简单地用如下形式给出：</p>
<script type="math/tex; mode=display">
face(h) = h/3, \  face\_index(h) = h\ mod\ 3</script><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 576 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg></mjx-container> 的下一个半边的索引可以由 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="12.352ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 5459.4 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g><g data-mml-node="mo" transform="translate(1187.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(2187.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(2687.4,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mi" transform="translate(3076.4,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(3954.4,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(4439.4,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mn" transform="translate(4959.4,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></svg></mjx-container> 得到。连接的其余部分必须显式地存储：每个顶点存储其位置和指向输出半边的索引；每个半边存储对半边的索引及其顶点的索引。这导致内存消耗仅为 16bytes/顶点 +  8bytes/半边 = 64bytes/顶点，这与前面简单的基于面的结构一样多，但定向边数据结构提供了更多的功能。</p>
<p>定向边可以表示所有可以用通用半边数据结构表示的三角形网格。但是请注意，边界是由特殊的（如负数）索引处理的，该索引表示对边是无效的。遍历边界循环的开销更大，因为没有枚举下一个边界边的原子操作。对于通用的半边结构，它可以被沿边界的下一条半边有效地访问。</p>
<p>定向边的主要优点是它的高存储效率，但它无法处理混合了三角形和四边形的网格并且缺乏边的显式表示。（需要由半边间接得到）</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">HDY</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://hudongyue.com/2022/03/13/%E5%B8%B8%E8%A7%81%E7%BD%91%E6%A0%BC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">http://hudongyue.com/2022/03/13/%E5%B8%B8%E8%A7%81%E7%BD%91%E6%A0%BC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://hudongyue.com" target="_blank">HDY blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/data-structure/">data structure</a><a class="post-meta__tags" href="/tags/computer-vision/">computer vision</a><a class="post-meta__tags" href="/tags/computer-graphics/">computer graphics</a></div><div class="post_share"><div class="social-share" data-image="/assets/img/mesh_data_structure/cover.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/03/15/PyTorch%E5%AD%A6%E4%B9%A0%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E5%BC%A0%E9%87%8F/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/img/PyTorch_basement/cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">PyTorch学习（1）——张量</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/07/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA%E4%B9%8B%E5%9B%BE%E5%BD%A2%E5%8F%98%E6%8D%A2/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/img/graphic_transfer/cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">三维重建之图形变换</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/03/07/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA%E4%B9%8B%E5%9B%BE%E5%BD%A2%E5%8F%98%E6%8D%A2/" title="三维重建之图形变换"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/img/graphic_transfer/cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-07</div><div class="title">三维重建之图形变换</div></div></a></div><div><a href="/2022/03/05/%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA%E4%B9%8B%E6%91%84%E5%83%8F%E6%9C%BA%E6%A8%A1%E5%9E%8B/" title="三维重建之摄像机模型"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/img/camera_model/cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-05</div><div class="title">三维重建之摄像机模型</div></div></a></div><div><a href="/2020/07/31/7-31%E5%B9%B6%E6%9F%A5%E9%9B%86/" title="7-31 并查集"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/img/blog3/cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-31</div><div class="title">7-31 并查集</div></div></a></div><div><a href="/2020/08/07/8-7%20%E5%93%88%E5%B8%8C%E8%A1%A8-%E6%95%A3%E5%88%97%E8%A1%A8/" title="8-7 哈希表(散列表)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/img/blog10/cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-07</div><div class="title">8-7 哈希表(散列表)</div></div></a></div><div><a href="/2022/03/15/PyTorch%E5%AD%A6%E4%B9%A0%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94%E5%BC%A0%E9%87%8F/" title="PyTorch学习（1）——张量"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/assets/img/PyTorch_basement/cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-15</div><div class="title">PyTorch学习（1）——张量</div></div></a></div><div><a href="/2022/03/29/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E5%83%8F%E7%B4%A0%E5%AF%B9%E9%BD%90%E7%9A%84%E9%9A%90%E5%BC%8F%E5%87%BD%E6%95%B0%E2%80%94%E2%80%94PIFu/" title="论文阅读：像素对齐的隐式函数——PIFu"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic3.zhimg.com/v2-211c305463024882e9eb804f3de73ed4_1440w.jpg?source=172ae18b" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-29</div><div class="title">论文阅读：像素对齐的隐式函数——PIFu</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/portrait.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">HDY</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hudongyue1"><i class="fab fa-github"></i><span>My GitHub</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E4%BA%8E%E9%9D%A2%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88Face-Based-Data-Structure%EF%BC%89"><span class="toc-text">1. 基于面的数据结构（Face-Based Data Structure）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%C2%B7-Face-Set"><span class="toc-text">· Face Set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%C2%B7-Shared-Vertex%EF%BC%88Indexed-Face-Set%EF%BC%89"><span class="toc-text">· Shared Vertex（Indexed Face Set）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%9F%BA%E4%BA%8E%E8%BE%B9%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88Edge-Based-Data-Structure%EF%BC%89"><span class="toc-text">2. 基于边的数据结构（Edge-Based Data Structure）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%9F%BA%E4%BA%8E%E5%8D%8A%E8%BE%B9%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88Halfedge-Based-Data-Structure%EF%BC%89"><span class="toc-text">3. 基于半边的数据结构（Halfedge-Based Data Structure）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%9C%89%E5%90%91%E8%BE%B9%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88Directed-Edge-Data-Structure%EF%BC%89"><span class="toc-text">4. 有向边的数据结构（Directed-Edge Data Structure）</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/23/Scratchapixel-Light-and-Shading/" title="Scratchapixel: Light and Shading">Scratchapixel: Light and Shading</a><time datetime="2022-12-23T11:11:23.000Z" title="发表于 2022-12-23 19:11:23">2022-12-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/15/Scratchapixel-Simple-Ray-Tracing/" title="Scratchapixel: Simple Ray Tracing">Scratchapixel: Simple Ray Tracing</a><time datetime="2022-12-15T04:43:56.000Z" title="发表于 2022-12-15 12:43:56">2022-12-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/12/Scratchapixel-Intersection/" title="Scratchapixel: Intersection">Scratchapixel: Intersection</a><time datetime="2022-12-12T03:30:11.000Z" title="发表于 2022-12-12 11:30:11">2022-12-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/11/22/Scratchapixel-Perspective-Projection-Matrix/" title="Scratchapixel: Perspective Projection Matrix">Scratchapixel: Perspective Projection Matrix</a><time datetime="2022-11-22T04:43:56.000Z" title="发表于 2022-11-22 12:43:56">2022-11-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/15/PaperReading-Events-Can-Make-Sense/" title="PaperReading: Events Can Make Sense">PaperReading: Events Can Make Sense</a><time datetime="2022-10-15T12:13:11.000Z" title="发表于 2022-10-15 20:13:11">2022-10-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By HDY</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>